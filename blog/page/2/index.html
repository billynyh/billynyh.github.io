
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Just code it</title>
	<meta name="author" content="Billy Ng">

	
	<meta name="description" content="Few months ago, I spent a little time to try migrating my Android project from to gradle, although it is announced in last Google IO (May 2013), and &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Just code it" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Just code it</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:billynyh.github.io/">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/billynyh" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/billynyh" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:billynyh.github.io/">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/31/gradle-migration/">
		
			Notes on Migrating Android Project From Ant to Gradle</a>
	</h2>
	<div class="entry-content">
		<p>Few months ago, I spent a little time to try migrating my Android project from to gradle, although it is announced in last Google IO (May 2013), and saw some big companies switched to it early, I considered that not ready that time and decided to wait for later version.</p>

<h3>Projects structures</h3>

<p>The project I am working on used some library projects like pull to refresh, facebook sdk, google play services, etc, due to the limitation of the old ant build system, you have to include the source and compile with your app. We also splitted some of our own components to separate library projects for reuseing in other projects. Currently my app is depending on 14 other library projects, and it takes about 3 minutes to have do a clean build.</p>

<p>We also use git submodules to include projects from other repositories. I am still not sure if this is the right way to manage projects especially when we keep modifying the libraries. It increases the complexity when we have multiple branches in development, and causes some pains when merging codes.</p>

<h3>First migration attempt</h3>

<p>I tried to migrate to gradle few months ago, when Android studio was in version 0.2 I think. One of the unknown part of the migration, it&rsquo;s 0 or 100, no 50% migrated. Even you build every library successfully, it does not mean you are getting close to finish the migration. In my case, I first made a simple app to get familiar with the build system, then migrated my libraries one by one, but guess what I got when I tried to have a complete build? Out of memory&hellip; I googled a little bit and found a way to increase the memory limit but still got the same error, in both command line and Android studio.</p>

<p>I didn&rsquo;t put more time on that since the ant scripts still work at that time and I got (many) other tasks pending.</p>

<h3>Second attempt</h3>

<p>I recently reopened the migration task, mainly for 3 reasons.</p>

<ol>
<li>Eclipse can&rsquo;t handle the project anymore. When I tried to add some code in a core library project that is also used in 3 other library projects, eclipse just hangs there and I have to kill it myself.</li>
<li>Need more tools for development. Actually this is one of the reason of my first attempt of migration, I had some (simple) scripts/code generators to help development, some are standalone but some are hooked into the build flow. It does not make sense to keep developing scripts based on ant if there is a migration coming, so I didn&rsquo;t add any scripts in the last 6 months. In order to continue the development, the migration task now becomes a blocker.</li>
<li>Team expand. We are expecting more man power on Android, the migration has to be done before they start.</li>
</ol>


<p>Not like last time, this is no longer a &ldquo;try out&rdquo;, it has to be done, no matter how many effort required.</p>

<p>After reinstalling the Android studio and gradle, I still got the out of memory error during compile. At this point, even I can get through the compile task of each library, I may got other error when combining everything in the app project, so I have to do some experiments first. I compiled all library projects to aar and uploaded to local maven repositories, this also required me to modify the build.gradle of the app project to use aar instead of compile form source. With some luck, I can compile the app with those aar successfully.</p>

<p>Next step is to make it fits my development workflow. Some library projects need to compile from source and those relatively stable libraries can use aar. Fortunately it worked as expect and did not gave me out of memory error, and even better, it also worked on Android studio without any extra modification.</p>

<p>Migrating the basic workflow is just the beginning, there are still many things to test before using it to do release, like app signing, proguard, build with different package names, etc&hellip; But before those tasks, there is still one problem needed to work on. I am not sure it is just me, but the gradle configure time seems very long with multi projects setup, and it may not suppose to be that slow. I posted my question on <a href="https://plus.google.com/u/0/105980838674582844427/posts/8sYLTN6WyCt">Google plus</a> and got some quick responses from Xavier Ducrohet. He said the configure time should be around 3s if run with daemon, but what I got is at least 10s for every one, even a simple &ldquo;gradle projects&rdquo; command call. I am not sure if this is the best I can get but it would not be a great development experience if every run need to wait for 10s and the actual compile is just 2s.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-31T00:44:28+08:00" pubdate data-updated="true">Mar 31<span>st</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/gradle/'>gradle</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/24/gatekeeper/">
		
			The Gatekeeper</a>
	</h2>
	<div class="entry-content">
		<p>Recently read some articles from <a href="https://medium.com/the-year-of-the-looking-glass">Julie Zhuo&rsquo;s</a>, she is a Product design director in Facebook. Although her posts are not about engineering, I still feel connected with most of the topics. I wrote some of my thoughts originally, but I think just put the quotes here is enough.</p>

<p><a href="https://medium.com/the-year-of-the-looking-glass/5c48db173662">&ldquo;Don&rsquo;t be a gatekeeper&rdquo;</a></p>

<blockquote><p>If you are somebody with an incredible amount of passion for high quality, you may be compelled to become a gatekeeper at some point in your life.</p></blockquote>




<blockquote><p>If you are a gatekeeper or find yourself thinking we need a gatekeeper, the thing that is broken or missing is trust. So instead of judging yes or no, good or bad, consider this instead: what could I do to make it so that I have more trust in the people around me?</p></blockquote>


<p><a href="https://medium.com/the-year-of-the-looking-glass/d0aa3b8af9b7">&ldquo;Why Designers Leave&rdquo;</a></p>

<blockquote><p>Every person who works in a creative field has an aspiration for her work, a yearning for that ideal plane which is the culmination of her taste.</p><p>When an environment fails, over and over and over again, to provide her with a means to follow her internal compass, then she will leave.</p><p>If you are in a position to influence that kind of environment, take heed. Lay the foundations for a space that nurtures, that yields the kind of work the best creative people can be proud of.</p></blockquote>


<p><a href="https://medium.com/the-year-of-the-looking-glass/bcddf7c85553">&ldquo;Quality is not a tradeoff&rdquo;</a></p>

<blockquote><p>Quality is a bar, not a tradeoff.</p></blockquote>




<blockquote><p>It just doesn’t work like that.</p><p>Why? Because to create high-quality work, there has to be a minimum acceptable bar. And high-quality creators cannot trade off below that bar. They simply can’t.</p></blockquote>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-24T23:11:56+08:00" pubdate data-updated="true">Mar 24<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/16/5yr-part-2-why/">
		
			Where Do You See Yourself in 5 Years - Why</a>
	</h2>
	<div class="entry-content">
		<p>It may be better in these two years, but back in 2008, people always say Hong Kong is not a good place for tech, especially for web startup. I agree, the whole environment, atmosphere, values put the industry in a big disadvantage. For example, in Hong Kong, you can make better living by doing financial related jobs, and usually have a stabler career path compared to being a programmer.</p>

<p>There is no one to blame. It is normal that a city puts more focus on some area, and has lower priority on others. Yes, HK government sometimes mention IT is one of their important industry, but do you really think the government has what it takes to do anything to help local startup on this fast changing world? I am not judging the government policy/work, I just think it is not their business.</p>

<h2>Why stay in Hong Kong</h2>

<p>So, why don&rsquo;t just go? Before I started everything, I had a short internship in Shanghai. As I mentioned in previous post, I was totally not prepared before graduate, so this internship kind of affected how I see the industry and the live of being a developer outside Hong Kong. It was a mixed experience, I did not do well, I can&rsquo;t say I enjoyed it a lot, but I did open my eye and started thinking how should I go from that point.</p>

<p>I also had an interview in US, it was a no again. I believe I would just leave HK if I got the job and things would go in a completely different way, but I am still proud of what happened next. It sounds like I was stuck in Hong Kong with no choice, there is always choices, I could keep applying but why give up Hong Kong without a try? Even the industry was bad here, I need to know how bad is it.</p>

<h2>Why work in startups</h2>

<p>From my short internship experience, I learned that if you work in a big team, most likely you will be limited to the tech they already using, it is not a bad thing since you can get deep knowledge in that area, but I was not sure if it was good for me in that time. Touching different latest technologies in development is important to me, it shows how the developers around the world work and keeps you in the trend. You can always try out new stuff in your own time, but as newbie like me, I will need to spend my own time on catching up work. Therefore, working in a (new/small) startup that opens to different technologies would be a best fit to me.</p>

<p>In terms of earnings, working in startup would probably at the bottom of the list amount the jobs required similar skill level. Mathematically you can say you had the possibility of going big in a startup but 0 chance of not doing that. But if this is really the reason of doing startup, you are either very confident in yourself and your team, or you are not go at math&hellip;</p>

<p>There is no doubt that I want the startup I am working in goes big one day, but it is not the only thing I care. Besides the result, I value the process even higher. What working in startup means to me is, even you are in a small team and do not have many resources compare to big companies, you can still do something big. To do that, you need to optimize the time, tools, resource you have and keep challenge your team to improve.</p>

<h2>What&rsquo;s next</h2>

<p>After working in different startups for 5 years, I think I am still learning and improving as an engineer. I believe someday when I am more experienced and my skill reached certain level, I may have a different view of everything. I am looking forward for what will happen on me and the industry in the next 5 years.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-16T22:55:02+08:00" pubdate data-updated="true">Mar 16<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/5yr/'>5yr</a>, <a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/09/quartz-composer-origami/">
		
			Try Out Quartz Composer and Origami</a>
	</h2>
	<div class="entry-content">
		<p>In late Jan, I watched a <a href="https://www.youtube.com/watch/?v=s5kNm-DgyjY">talk &ndash; Bringing Beautiful Interactions to Android Apps</a> from Facebook about how they use Quartz Composer(QC) when developing Facebok Home (and chat head). Compare to other prototyping tools, QC can better illustrate animations and interactions. It is quite impressive and I actually installed QC the day after and tried to play on it. But when I first opened it, I was totally lost, not saying it is hard to use, but it is obvious that there is a learning curve on this tool. I did not spend more time on it that time but kept it in my TODO list.</p>

<div class="video-container">
<iframe src="http://www.youtube.com/embed/s5kNm-DgyjY" frameborder="0" allowfullscreen></iframe>
</div>


<p>Two weeks later, Facebook released <a href="http://facebook.github.io/origami/">Origami</a>, an extension of QC. Followed with some articles about how it is used in Facebook. Yesterday I gave it another try. This time I am more serious compared to last time. My target is at least understand (not fully) how it works and be able to do a simple demo to my team.</p>

<h2>Let&rsquo;s start</h2>

<p>This time I started with the <a href="https://developer.apple.com/library/mac/documentation/graphicsimaging/conceptual/quartzcomposeruserguide/qc_intro/qc_intro.html">documentation</a>, not saying it is poorly documented, but it is not much fun to read it(my bad)&hellip; Then I went for tutorials, after a quick look of some articles on QC (not Origami), I had little concept of patches (but missed macro patch&hellip;), then I think maybe I can understand the Origami examples.</p>

<p>When I opened the &ldquo;Photo Grid&rdquo; example, I only see three patches, I knew that there must be some hierarchy hidden from the interface, I tried to use the patch inspector to look around but have no idea where to go, I was stuck again. Then I found this <a href="http://vimeo.com/85578380">video</a> on Origami&rsquo;s twitter, which turned out was everything I needed.</p>

<div class="video-container">
<iframe src="http://player.vimeo.com/video/85578380" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> 
</div>


<pre><code>It is the visual version spaghetti code // 6:50
</code></pre>

<h2>Short notes</h2>

<ul>
<li>&ldquo;Phone&rdquo; patch is the basic component for the phone prototype, which displays an image in device frame.</li>
<li>Use &ldquo;Render in Image&rdquo; for the content to display.</li>
<li>Double click the &ldquo;Render in Image&rdquo; patch to edit the macro patch of it.</li>
<li>A &ldquo;Layer&rdquo; patch will be automatically added when you drag in an image.</li>
</ul>


<p><img src="/images/posts/20140309/qc-1.jpg"/></p></p>

<h2>Reference</h2>

<ul>
<li><a href="http://facebook.github.io/origami/">http://facebook.github.io/origami/</a></li>
<li><a href="https://medium.com/the-year-of-the-looking-glass/f1173d0bd181">Introducing Origami for Quartz Composer</a></li>
<li><a href="http://www.wired.com/wiredenterprise/2014/03/facebook-paper/">Facebook Paper Has Forever Changed the Way We Build Mobile Apps</a></li>
<li><a href="http://vimeo.com/85578380">Vimeo &ndash; Prototyping with Facebook Origami</a>

<ul>
<li>Asset for the example <a href="https://github.com/jaythrash/spy-book">https://github.com/jaythrash/spy-book</a></li>
</ul>
</li>
<li><a href="https://www.youtube.com/watch/?v=s5kNm-DgyjY">Youtube &ndash; Bringing Beautiful Interactions to Android Apps &ndash; Mobile @ Scale</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-09T19:59:11+08:00" pubdate data-updated="true">Mar 9<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/prototyping/'>prototyping</a>, <a class='category' href='/blog/categories/ux/'>ux</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/03/08/5yr-part-1/">
		
			Where Do You See Yourself in 5 Years - How I Started</a>
	</h2>
	<div class="entry-content">
		<h2>5 years ago</h2>

<p><strong>Where do you see yourself in 5 years</strong>. This was the very first question I got asked in an interview after graduated from university in 2008. I started as a web developer, also touched a little bit iOS. Then I decided to focus on Android and now I am a pure Android developer, nothing close to an expert, but I know what I can do and I am confident in my work.</p>

<p>Of course I did not picture me being Android developer 5 years ago, but other than that, I did foresee myself focused on one area instead of touching everything. Not saying that I am now Android only, but if there is one thing I have better knowledge compare to others in my team, it would be Android.</p>

<div style="background:#ccc; padding:20px">
<p style="text-align:center">
<img src="/images/posts/20140308/five-years.png"/></p>
<p style="text-align:right"><a href="http://xkcd.com/1088/">Source: xkcd</a></p>
</div>


<p>Back in 2008, I enjoyed my 3 years programming competition life and knew absolutely nothing about the real world. I wanted to be a software engineer but had no idea what its like before I graduated (I am not saying it is a bad thing, having work experience before graduate means very little to me, but you may feel a little bit lost at the beginning). I even didn&rsquo;t prepare for that interview, or you can say, that interview was my preparation of the next interview.</p>

<p>My first reaction on that 5yr question was like, I know nothing about your company, most likely I will not be there 5 years later, what should I say? Is it a trick question? As expected, I did not get the job but this question stays in my head through out the years.</p>

<p>After some friends&#8217; referral and meeting different people, I joined a new, small and passionate &ldquo;startup + software house&rdquo; team and started my developer life. I started as a web developer, learning all kind of web tech through client projects, first did some Wordpress theme, then some rails, python and mongodb. Doing projects with different languages and frameworks gave me a chance to play with latest tech outside and most importantly, pushed my learning skill.</p>

<h2>Android</h2>

<p>Around that time, iPhone was in a very good trend and we started to have some iOS projects. Even I participated in some, I was not a big fan of smart phone as I was already with my computer all day.</p>

<p>In 2010, I got my first smart phone, Google Nexus One, it did not magically changed how I see smart phone in a short time. I actually was still not so convinced by the idea of smart phone in the first few months. What happened was that, one day we decided to play with the Android sdk and build something we want (and simple). This was mainly for fun, and also to let us had a taste of Android development so we might take some Android project in the future.</p>

<p>We decided to make a camera app as side project, because we did see some good camera apps on iOS but those on Android were not compareable to them. Turned out it is nothing close to simple, or I should say, it was one of the hardest thing you can do within the computing power at that time. We spent one week to have our first prototype, everything was ugly, but we just put it on Android market right away. We did not know what to expect, but we were happy to see people actually enjoyed our app. Then I started maintaining the app in my own time and took that chance to catch up with the latest Android development. We learned a lot from building that app, it is a long story so I will not include it here.</p>

<h2>Leaving the comfort zone</h2>

<p>I stayed in my first company for 3 years. Although we did not go big or have any crazy viral product, we survived, which I think already is an achievement in Hong Kong. I enjoy being a (big) part of the team but I started thinking that 5 years question. I could basically see how I would be if nothing changed and I was not sure if it is what I want. There were other considerations but in short, I decided to leave my comfort zone. I quited my job in early 2012, took a little break and threw myself back to the market.</p>

<p>This time, I started as an Android developer.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-03-08T22:41:19+08:00" pubdate data-updated="true">Mar 8<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/5yr/'>5yr</a>, <a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/" class="prev">Prev</a>
    
    
        <a href="/blog/page/3/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Billy Ng

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'billynyh';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>