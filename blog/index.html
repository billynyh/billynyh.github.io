
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Just code it</title>
	<meta name="author" content="Billy Ng">

	
	<meta name="description" content="I use messaging app everyday, whatsapp, Facebook messenger, gtalk, web and mobile. The UI of different apps looks natural to me and never tried to & &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="" rel="alternate" title="Just code it" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Just code it</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/about"><i class="fa-android"></i> About me</a></li>
	<li><a href="/"><i class="fa-code"></i> Blog</a></li>
	<li><a href="/blog/archives"><i class="fa-database"></i> Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/about"><i class="fa-android"></i> About me</a></li>
	<li><a href="/"><i class="fa-code"></i> Blog</a></li>
	<li><a href="/blog/archives"><i class="fa-database"></i> Archives</a></li>
</ul>
</div>
	</div>
    <!--
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:billynyh.github.io/">
			</form>
		</div>
	</div>
    -->
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/billynyh" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/+BillyNgYuHang?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/billynyh" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/billynyh" title="GitHub">GitHub</a>
		
    
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/billynyh">LinkedIn</a>
		
		
		
		
    
	</div>
    <!--
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:billynyh.github.io/">
	</form>
    -->
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/03/messaging-ui/">
		
			Quick Look of Messaging App UI</a>
	</h2>
	<div class="entry-content">
		<p>I use messaging app everyday, whatsapp, Facebook messenger, gtalk, web and mobile. The UI of different apps looks natural to me and never tried to &ldquo;see&rdquo; the design of it.</p>

<p>Recently I am working on a messaging UI with a screenshot designer gave me. When I try to imagine how will this design looks like with real chat usage, I am sure there are lots of details not included in the design so I take a deeper look of the messaging app I used everyday.</p>

<p>When you received a message, you usually can see sender information (name / avatar), message content, and sent time. And for the message you send, you may also see deliver status (sent/fail/received/read), retry when fail.</p>

<p>Here are some elements besdies those basic thing.</p>

<h2>Date header</h2>

<p>To avoid displaying the date in every message, a common handling is to have a &ldquo;Date header&rdquo; to divide the messages, and whatsapp also added a sticky header for the date.</p>

<p><a rel="gallery-date" href="/images/posts/20140803/b-2.jpg" class="fancybox">
<img src="/images/posts/20140803/c-2.jpg"/>
</a>
<a rel="gallery-date" href="/images/posts/20140803/b-3.jpg" class="fancybox">
<img src="/images/posts/20140803/c-3.jpg"/>
</a></p>

<h2>1-to-1 message VS group chat</h2>

<p>In whatsapp 1-to-1, it only shows the name in action bar and does not include it in the content, it totally makes sense because you know who you are talking to when you are in that page. And for group chat, as more then one people you are talking to but the incoming messages are all aligned left, it is necessary to have the name before each message.</p>

<p>Facebook messenger also has similar logic of adding name but it is outside the bubble.</p>

<p></p>
<a rel="gallery-chat" href="/images/posts/20140803/b-0.jpg" class="fancybox">
<img src="/images/posts/20140803/c-0.jpg"/>
</a>
<a rel="gallery-chat" href="/images/posts/20140803/b-6.jpg" class="fancybox">
<img src="/images/posts/20140803/c-6.jpg"/>
</a>
</p></p>

<h2>Message grouping</h2>

<p>Most messaging app styled the messages with talk bubbles, it is interesting to see that some of them are not simply a bubble.</p>

<p>
<a rel="gallery-grouping" href="/images/posts/20140803/b-5.jpg" class="fancybox">
<img src="/images/posts/20140803/c-5.jpg"/>
</a>
<a rel="gallery-grouping" href="/images/posts/20140803/b-3.jpg" class="fancybox">
<img src="/images/posts/20140803/c-3.jpg"/>
</a>
<a rel="gallery-grouping" href="/images/posts/20140803/b-1.jpg" class="fancybox">
<img src="/images/posts/20140803/c-1.jpg"/>
</a>
</p>


<p>For Facebook messenger, I found that when continuous messages from same person is grouped, avatar is only showed once, in both 1-to-1 or group message. However, sometimes messages are not grouped, I guess it only groups messages within a short time.</p>

<p>For whatsapp, it groups continuous messages to one single bubble, my first reaction is it would be fun to write a list view adapter for that, need to have 3 item types for one message (start, middle, end) and the types may change when new messages come in, eg. end &ndash;> middle.</p>

<h2>Understand what&rsquo;s behind it</h2>

<p>It is easy to reference other&rsquo;s UI, but it is also important to understand why they handle information that way and even we will not handle like them, make sure we aware of it.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-03T12:13:04+08:00" pubdate data-updated="true">Aug 3<span>rd</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/chat/'>chat</a>, <a class='category' href='/blog/categories/messaging/'>messaging</a>, <a class='category' href='/blog/categories/ui/'>ui</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/07/20/yuno-public/">
		
			Y U NO Public (or Protected)</a>
	</h2>
	<div class="entry-content">
		<p>Recently started a new project in work so I finally have a chance to use SwipeRefreshLayout. The integration is very simple and does not change the structure of ListView like <a href="https://github.com/chrisbanes/android-pulltorefresh">Android-PullToRefresh</a> (I still love that library), so it should be easier to perform custom logic on the ListView afterwards.</p>

<p>I also like the progress bar embeded in the view very much, and would like to use it in other components to make my apps&rsquo;s UI consistent. A quick look to the <a href="https://android.googlesource.com/platform/frameworks/support/+/refs/heads/master/v4/java/android/support/v4/widget/SwipeRefreshLayout.java">source code</a> and found that it is implemented in the class <a href="https://android.googlesource.com/platform/frameworks/support/+/refs/heads/master/v4/java/android/support/v4/widget/SwipeProgressBar.java">SwipeProgressBar</a>. It is sad that the class is not public and it seems there is no similar class in the framework and support library.</p>

<p>So, I just copy the code of SwipeProgressBar and BakedBezierInterpolator(required by SwipeProgressBar and also not public) myself and put it in my common lib, then use it in my app.</p>

<p>I understand that there are some kind of design principle of the class/methods visibility, but sometime it is quite frustrating that after going through the framework source code and found that you cannot to extend the class because some properties are private and does not have a public/protected getter.</p>

<p><img src="/images/posts/20140720/yuno.jpg" style="width:300px" /></p>

<h2>Reference</h2>

<ul>
<li><a href="http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html">Controlling Access to Members of a Class</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-07-20T20:47:27+08:00" pubdate data-updated="true">Jul 20<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/22/viewcompat-support-v4/">
		
			ViewCompat.canScrollVertically()</a>
	</h2>
	<div class="entry-content">
		<p>Due to watching world cup evey night through out the week, I spent most of my time these two weekends sleeping. Even not able to do some serious coding, I tried to clean up my long pending reading list, and I just took a look of <a href="http://developer.android.com/reference/android/support/v4/widget/SwipeRefreshLayout.html">SwipeRefreshLayout</a>.</p>

<p>Saw this class a while ago, just from the name of this class, I expected it to be a ViewGroup that handles the pull gesture of the Android style pull to refresh. I was not very interested in this class because there is no plan to touch the refresh UI in work, but it is always good to know it is in the support library.</p>

<p>What really caught my attention is the canChildScrollUp() method in SwipeRefreshLayout. It used ViewCompat.canScrollVertically and special handled pre-ICS.</p>

<p><a href="https://android.googlesource.com/platform/frameworks/support/+/refs/heads/master/v4/java/android/support/v4/widget/SwipeRefreshLayout.java">Source line 348</a></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">canChildScrollUp</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="o">(</span><span class="n">android</span><span class="o">.</span><span class="na">os</span><span class="o">.</span><span class="na">Build</span><span class="o">.</span><span class="na">VERSION</span><span class="o">.</span><span class="na">SDK_INT</span> <span class="o">&lt;</span> <span class="mi">14</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(</span><span class="n">mTarget</span> <span class="k">instanceof</span> <span class="n">AbsListView</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="kd">final</span> <span class="n">AbsListView</span> <span class="n">absListView</span> <span class="o">=</span> <span class="o">(</span><span class="n">AbsListView</span><span class="o">)</span> <span class="n">mTarget</span><span class="o">;</span>
</span><span class='line'>            <span class="k">return</span> <span class="n">absListView</span><span class="o">.</span><span class="na">getChildCount</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span>
</span><span class='line'>                    <span class="o">&amp;&amp;</span> <span class="o">(</span><span class="n">absListView</span><span class="o">.</span><span class="na">getFirstVisiblePosition</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">absListView</span><span class="o">.</span><span class="na">getChildAt</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span>
</span><span class='line'>                            <span class="o">.</span><span class="na">getTop</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">absListView</span><span class="o">.</span><span class="na">getPaddingTop</span><span class="o">());</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="n">mTarget</span><span class="o">.</span><span class="na">getScrollY</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="n">ViewCompat</span><span class="o">.</span><span class="na">canScrollVertically</span><span class="o">(</span><span class="n">mTarget</span><span class="o">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>(Well I don&rsquo;t understand why the ViewCompat method cannot(?) handle pre-ICS&hellip; then what&rsquo;s the point of Compat?)</p>

<p>I wasn&rsquo;t aware there is a canScrollVertically() method in View since ICS, and the ViewCompat also provides some interesting method that could simplify some custom ViewGroup implementation. Should put more time to review what&rsquo;s new in those commonly used classes as I believe there is no need to support pre-ICS soon.</p>

<p>Refrerence: <a href="http://antonioleiva.com/swiperefreshlayout/">http://antonioleiva.com/swiperefreshlayout/</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-22T19:56:29+08:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/06/01/failed-side-project/">
		
			Why I Failed to Have Side Projects</a>
	</h2>
	<div class="entry-content">
		<p>At the beginning of last few years, I wrote down a list of things I want to do through out the year. I finished some, gave up some, and some stays on the list. One of the longest staying item is &ndash; &ldquo;start a side project&rdquo;.</p>

<h2>What takes me so long</h2>

<p>It is easy to come up with something, but it is even easier to ban the idea. At first I thought maybe it is easier to start when I get more experience, learned more tools, but the truth is, the more you see, the harder you start.</p>

<p>For example, I come up with an idea of building an Android app that provide list of XXX and allow user to do YYY on it. Sometime I would not even start when I find that it is not easy to get the XXX list, or after I wrote some scripts to crawl the list, I get distracted in other idea and put down the started project, sometime you just get tired in work and decided to take a break in weekend.</p>

<p>Obviously I am not determined enough. But another problem I found for myself is, I start losing that kind of fire I had 5 years ago.</p>

<h2>Excitement</h2>

<p>Two months ago, I helped in a workshop for my middle school about using <a href="http://appinventor.mit.edu/explore/">AppInventer</a> to build Android apps, targeting F1-F3 students (12-15yo). When I prepared the material, the first thing I found is that, not surprisingly, the tool has VERY limited features. I am not even sure what I can build using that, how do I give advise to those students?</p>

<p>During the workshop, before telling them what the tool can/cannot do, I let them students brainstorm the project topics, and told them not to worry if it is possible, we can &ldquo;fake&rdquo; it. Turned out they came up with some interesting idea, of course most are impossible to actually build it with their skill level (or even mine) and with that tool. But seeing their discussion reminded me a very important thing, <strong>the excitement</strong>.</p>

<h2>Don&rsquo;t think too much</h2>

<p>People have different reasons to start side projects, for me, it is simple, just to keep myself motivated and do things that I may not have chance to do in work.</p>

<h2>Related reading</h2>

<ul>
<li><a href="https://medium.com/busy-building-things/start-something-the-power-of-side-projects-648223f673af">Start Something: The Power of Side Projects</a></li>
<li><a href="https://medium.com/freelancers-life/side-projects-are-the-new-resume-a07e211240b2">Side projects are the new resume</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-06-01T23:18:21+08:00" pubdate data-updated="true">Jun 1<span>st</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/side-project/'>side project</a>, <a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/12/play-list/">
		
			F8 Mobile Talks</a>
	</h2>
	<div class="entry-content">
		<p>Got some days off last few weeks (public holiday and AL), spent quite lots of time on watching tech talks. (Another video summary post&hellip;)</p>

<h3><a href="https://www.youtube.com/watch?v=QErcmjPxEtg">Hacker Way: Designing the New Messenger</a></h3>

<p>The first one I watched was about designing Facebook messenger, a little bit slow, but talked about some design iterations and considerations through out the process which is quite interesting.</p>

<h3><a href="https://www.youtube.com/watch?v=mOyoTUETmSM">Hacker Way: Releasing and Optimizing Mobile Apps for the World</a></h3>

<div class="video-container">
<iframe src="http://www.youtube.com/embed/mOyoTUETmSM" frameborder="0" allowfullscreen></iframe>
</div>


<p>This one is really interesting. It talked about their Android app shipping schedule and workflow. The talk also included their buck system, heard this from other talks but this is the first time I heard (maybe I missed before) about the share build result over network, which is quite&hellip; crazy amazing.</p>

<h3><a href="https://www.youtube.com/watch?v=TCuVxU07NWs">Hacker Way: Mobile Engineering at Facebook&rsquo;s Scale</a></h3>

<div class="video-container">
<iframe src="http://www.youtube.com/embed/TCuVxU07NWs" frameborder="0" allowfullscreen></iframe>
</div>


<p>Similar contents but also worth watching.</p>

<h3><a href="http://www.infoq.com/presentations/Dagger">Dagger: A Fast Dependency Injector for Android and Java</a></h3>

<p>I have been researching the possibility of using dependency injection in current project. I think I will use it eventually, especially Facebook and Square are using it for a while. The biggest problem right now is it may affected every part of the app and I am not comfortable doing that without unit tests&hellip;</p>

<p>I also re-watched these two videos from IO 2013 as I am working on related view performance recently</p>

<ul>
<li><a href="https://www.youtube.com/watch?v=vQZFaec9NpA">Google I/O 2013 &ndash; Android Graphics Performance</a></li>
<li><a href="https://www.youtube.com/watch?v=NYtB6mlu7vA">Google I/O 2013 &ndash; Writing Custom Views for Android</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-12T00:35:47+08:00" pubdate data-updated="true">May 12<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/facebook/'>facebook</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Billy Ng

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'billynyh';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>