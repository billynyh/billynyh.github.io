
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Just code it</title>
	<meta name="author" content="Billy Ng">

	
	<meta name="description" content="Huh? As an experienced software engineer, you are expected to write code reusable, modularized, clean, blah blah. Of course you do that in your &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="" rel="alternate" title="Just code it" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Just code it</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/about"><i class="fa-android"></i> About me</a></li>
	<li><a href="/"><i class="fa-code"></i> Blog</a></li>
	<li><a href="/blog/archives"><i class="fa-database"></i> Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/about"><i class="fa-android"></i> About me</a></li>
	<li><a href="/"><i class="fa-code"></i> Blog</a></li>
	<li><a href="/blog/archives"><i class="fa-database"></i> Archives</a></li>
</ul>
</div>
	</div>
    <!--
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:billynyh.github.io/">
			</form>
		</div>
	</div>
    -->
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/billynyh" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/+BillyNgYuHang?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/billynyh" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/billynyh" title="GitHub">GitHub</a>
		
    
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/billynyh">LinkedIn</a>
		
		
		
		
    
	</div>
    <!--
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:billynyh.github.io/">
	</form>
    -->
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/05/06/dirty-code/">
		
			Write Dirty Code</a>
	</h2>
	<div class="entry-content">
		<h2>Huh?</h2>

<p>As an experienced software engineer, you are expected to write code reusable, modularized, clean, blah blah. Of course you do that in your product, but sometime you need dirty code to do dirty work, and I enjoy doing that. :)</p>

<h2>Code generator</h2>

<p>One of my favorite dirty code is code generator. When writing Java, sometime you need to write lots of getter setter, at first you just copy and paste, but after a few months, you will find the class goes big and messy, and it is easy to make mistakes, you may forget to change a variable, or put in wrong default value&hellip;</p>

<p>So, how about a little code generator? Make a config file containing the fields and data type, and just generate the java class for you. You don&rsquo;t even need to write the generator in Java, in my case, I have a python script that reads yaml config file and generates Java code.</p>

<p>That script is simple and ad hoc, you are not going to maintain that so when you want to &ldquo;reuse&rdquo; it, just copy the script, modify it, do whatever you want.</p>

<h2>Custom build scripts</h2>

<p>I have been using ant to build Android for a long time, just migrated to Gradle recently. One of the problem with the old system is lack of multiple build support. What I did in last 3 years is, have a custom ant task that modify the package name in AndroidManifest.xml and update all import of R in code.</p>

<p>And combine with code generator scripts, I can create builds with different config files which is one very important during development.</p>

<p>It is generally not a good idea to modify every .java files before compile, but with the limitation of the build system and you don&rsquo;t have the resources to dig deep, I would just use the dirty way (proudly).</p>

<h2>Get your hands dirty</h2>

<p>After working for some years, we switched our mind set from a programmer to an engineer, we may forget how to get dirty, forget how we used to &ldquo;hack&rdquo; things, forget how we rushed a course project in one night. By being a better engineer, we write better code, but we should not lose the ability of being dirty.</p>

<p>Use dirty code to do dirty work is just an example of use the right tool for the task.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-05-06T22:55:49+08:00" pubdate data-updated="true">May 6<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/development/'>development</a>, <a class='category' href='/blog/categories/dirty/'>dirty</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/28/yes-or-no/">
		
			Yes or No</a>
	</h2>
	<div class="entry-content">
		<h2>From being interviewed to interview others</h2>

<p>I have been working as a developer in different startups, I am not a decision maker in any of it, but as I becoming a “senior engineer”, I start getting involved in the hiring process. And this gives me a good view to see even we all called ourselves &ldquo;startups&rdquo;, different teams can have very different hiring considerations.</p>

<h2>Limitation</h2>

<p>It is obvious that hiring in startups is very different from Google. You don&rsquo;t have a large pool of candidates for you to choose, you don&rsquo;t have a HR/recruitment team to do that for you, you can&rsquo;t simply fly someone from another country and give him a few rounds interview even you know it is a fit&hellip;</p>

<p>As I mentioned in previous post, Hong Kong is not a good place for tech people, it is normal that the best people leave Hong Kong for better opportunities. Of course there are still many good developers or potential candidates but it is hard for startups to reach those talents. For some companies/industries, they believed in some kind of &ldquo;hiring season&rdquo; indicating that the &ldquo;market&rdquo; is more active and can have better chance to find match for your openings. I agree on the probability, but in my opinion, it is easier for you to find a match, it is also easier for the candidates and they may turned down your offer after all.</p>

<h2>Decision</h2>

<p>No matter what are you looking for, what questions you asked, at the end of the day, as a interviewer, what your boss/manager want from you are actually just scores, comparison to other candidates and most importantly, YES or NO.</p>

<p>At first you may feel pressure of saying no because it means the candidate will not get the job, especially you don&rsquo;t have much comparisons at that time. But in my experience, the more you see, the easier you say no, the hard part is to say yes.</p>

<h2>What the YES means</h2>

<p>For me, a yes means</p>

<ol>
<li>If the new hires will be working with/under you, you feel comfortable to assign tasks to them and believe they are/will be able to handle it.</li>
<li>You want to work with them.</li>
</ol>


<p>(1) is the bottom line, no matter how experienced the candidate is, if you think they could have problem picking up the existing code base, it is usually a easy no. And when you are interviewing entry level developers, you may have a lower experience/technical bar but you still need to have a feeling that the candidate is a fast learner to give a yes.</p>

<p>(2) could be tricky, you may think he is qualified for the job on every aspect but you are still not sure about if you want to work with him, could be just impression, the way he talks, his background etc. For big companies, you may just say no if you are not sure, but for small teams, we try not to lose any potentially good candidates. So far I don’t have a good solution for this, most likely I will just tell my manager that I think he is qualified but I am not sure on personality, then let the next interviewer decide that.</p>

<h3>Conclusion</h3>

<p>Interview is not just about a company hiring a candidate, it is also about a candidate deciding to join a company. If you are a big company, you could think that it is the candidates lost to not joining you, but as a startup, things are not working that way, at least in Hong Kong. If you want to attract good people to join you, you need to show that you have what they looking for, or something better than what they are looking for. It&rsquo;s not always about money.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-28T00:34:33+08:00" pubdate data-updated="true">Apr 28<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/21/talks-from-paper/">
		
			Talks From Facebook, Paper Team</a>
	</h2>
	<div class="entry-content">
		<p>During the long weekend of Easter holiday, I spent some time on watching tech talks from Facebook. The newly uploaded &ldquo;Building Paper 2014&rdquo; series is really cool. Even I don&rsquo;t do iOS, seeing how they tackle the problems and share their approach is totally enjoyable.</p>

<p>Android and iOS apps may have different platform structures, but when your app goes bigger, most likely you will need another level of abstraction to handle large amount of logic, UI and communication betweens components. And when you want further performance tuning, you may need to go beyond the platform like what Paper team did. At that stage, although you are using different languages, the architecture will be similar across platforms.</p>

<div class="video-container">
<iframe src="http://www.youtube.com/embed/ZdiBPHpxGd0" frameborder="0" allowfullscreen></iframe>
</div>


<p>I also like the part about <a href="https://www.youtube.com/watch?v=-KrF4bIofeo">contextually aware tutorials</a>, if you have time, you should watch the <a href="https://www.youtube.com/watch?v=OiY1cheLpmI">whole event</a>.</p>

<h2>UI details and A/B test</h2>

<p>Besides new talks, I also watched an old talk from &ldquo;Mobile Developer Day by Facebook + Parse 2013&rdquo;. Not sure why I skipped this talk before, probably because the title is so generic &ndash; <a href="https://www.youtube.com/watch?v=e2w8z6mI47U">Mobile at Facebook</a>. The part that caught my attention is the A/B testing on their drawer to nav bar changes. It&rsquo;s not about what framework they used, not about how many users they put in the AB test, it&rsquo;s about how you see the numbers.</p>

<p>She mentioned that after changing the drawer to nav bar, the result in internal test is good, navigation experience is improved, users feel the app faster. However, when they shipped to 1% test, they find that users liking and commenting less, because users are kind of distracted by the nav bar notification.</p>

<p>This is very interesting to me. We do not have a very detailed metrics system on mobile (have some, but not detailed), I am sure if we do AB test like that, we will not be able to see the abnormal usage changes. This even put me in a doubt that what if we already did changes like that and we still don&rsquo;t know that?</p>

<p>This is like a regression test, not on code but on usage.</p>

<div class="video-container">
<iframe src="http://www.youtube.com/embed/e2w8z6mI47U" frameborder="0" allowfullscreen></iframe>
</div>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-21T21:10:00+08:00" pubdate data-updated="true">Apr 21<span>st</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/a-slash-b-test/'>A/B test</a>, <a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/facebook/'>facebook</a>, <a class='category' href='/blog/categories/paper/'>paper</a>, <a class='category' href='/blog/categories/ui/'>ui</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/13/android-image-black-lines/">
		
			Android Image Decode Bug on Samsung Devices</a>
	</h2>
	<div class="entry-content">
		<h2>Image decode bug on Samsung devices</h2>

<p>Few weeks ago I got some users reported about seeing &ldquo;black lines&rdquo; on the images. In 9GAG app, displaying images is everything so I can&rsquo;t just leave the problem unsolved.</p>

<p>At first I thought it is a problem I worked on before that when multiple download tasks running for the same image, may corrupt the file. However, this time is a little bit different.</p>

<p><img src="/images/posts/20140413/blacklines.png"/></p>

<p>I checked those reports and find that only users using (high end?) Samsung devices (S4 and Note3) hit this problem, and I cannot reproduce the problem on my testing devices. Luckily, we recently equipped a Samsung Galaxy S4 in office so I can schedule some time on this problem. And they are actually not black lines, they are transparent lines&hellip;</p>

<p>Even I suspected it is a manufacture specific problem, I did not expect I can reproduce the problem easily, so I am a little bit surprised to see the problem on the device. There are two possible causes of the problem, 1. the image file corrupted, 2. the image is correct but corrupted during decode to bitmap object. After a little test, I can confirm that I am dealing with (2)&hellip; When debugging with logcat, the following logs appear everytime the problem occurs.</p>

<pre><code>skia  D  JPEG content is corrupt, got a zero length row(272)
skia  D  JPEG content is corrupt, got a zero length row(273)
skia  D  JPEG content is corrupt, got a zero length row(274)
skia  D  JPEG content is corrupt, got a zero length row(275)
skia  D  JPEG content is corrupt, got a zero length row(276)
skia  D  JPEG content is corrupt, got a zero length row(277)
</code></pre>

<p>I thought once I have the error message, I am done, problem like this must be all over google and stackoverflow&hellip;</p>

<p>Nope, <a href="https://www.google.com/search?q=skia+JPEG+content+is+corrupt">not this time</a>.</p>

<p>There is not much I can do when there is only logs but no error message returned, I can&rsquo;t even detect the problem and reload the images. So I approach to tackle the problem is to reduce the chance of happening instead of fixing it. One observation is that, even this is not a step of reproduce, it usually/always comes with a dalvikvm heap grow. Follow on this direction and tuned a bit memory performance, somehow like harder to hit the problem. (magic?)</p>

<p>This is for sure not a &ldquo;fix&rdquo;, and &ldquo;looks harder to hit the problem&rdquo; could actually be luck, but that&rsquo;s all I can get in a few hour scheduled time.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-13T23:21:18+08:00" pubdate data-updated="true">Apr 13<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/android/'>android</a>, <a class='category' href='/blog/categories/bitmap/'>bitmap</a>, <a class='category' href='/blog/categories/samsung/'>samsung</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/07/move-fast-break-things/">
		
			Move Fast and Break Things</a>
	</h2>
	<div class="entry-content">
		<h2>Who said that</h2>

<p>Mark Zuckerberg <a href="http://www.wired.com/2012/02/zuck-letter">did</a>.</p>

<blockquote><p>Moving fast enables us to build more things and learn faster. However, as most companies grow, they slow down too much because they’re more afraid of making mistakes than they are of losing opportunities by moving too slowly. We have a saying: “Move fast and break things.” The idea is that if you never break anything, you’re probably not moving fast enough.</p></blockquote>


<p>I totally agree on the idea. However, like doing startups, the idea is important but what really matter is <strong>execution</strong>. How do you interpret &ldquo;move fast and break things&rdquo; affects the direction of the team. If you are in the wrong direction and move fast, there is no guarantee that you can go back to where you were even you &ldquo;move fast&rdquo; again.</p>

<h2>Be able to move fast</h2>

<p>Depends on the scale of your product, there should be different way to move fast. For new product or just a prototype, you should collect user feedbacks, move fast, break things, <strong>get on the right direction</strong> as soon as possible. That is the speed you needed to survive in the industry.</p>

<p>What&rsquo;s next? You have some users, using your app everyday, but not yet the giant scale. To get more users, you need to keep moving and this is another type of moving fast. This time, you cannot just move fast and break things like the time when you start. From development point of view, as the code complexity increase, unless you have a good infrastructure, you will find that it is getting harder and harder to add features on top of it. When you add one feature, you may introduce two bugs, and slowed the app down at the same time. Beside that, there is a cost when you break things, maybe get some bad rating, maybe pissed off some users.</p>

<p>This does not mean you should not move fast, but you have to <strong>do it smart</strong>. You have to be clear on what you want to achieve from moving fast. If you want to try out new interface and get user feedback, it does not need to be 100% polished, but don&rsquo;t rollout a 20% done ugly version, all you can get is bad rating instead of constructive feedback about the new features.</p>

<p>I agree on moving fast, but I also believe in &ldquo;<strong>less is more</strong>&rdquo; (slow is fast?). At the end of the day, it is all about what the users want, new features may boost your number a little bit, but sometimes quality is what makes the users come back and use your app and not switching to other competitors.</p>

<p>Instead of running on your foot, isn&rsquo;t it better to get a bike or a car if you want to move fast?</p>

<h2>When you break things</h2>

<p>Please, <strong>fix it</strong>, before you break another thing.</p>

<h2>Reference</h2>

<ul>
<li><a href="http://www.wired.com/2012/02/zuck-letter">Mark Zuckerberg’s Letter to Investors</a></li>
<li><a href="http://venturebeat.com/2012/06/26/facebook-hacker-stories/">Move fast, break things: Four stories for hackers from Facebook</a></li>
<li><a href="http://spectrum.ieee.org/at-work/innovation/facebook-philosophy-move-fast-and-break-things">Facebook Philosophy: Move Fast and Break Things</a></li>
<li><a href="http://mashable.com/2014/03/13/facebook-move-fast-break-things/">Are Facebook&rsquo;s &lsquo;Move Fast and Break Things&rsquo; Days Over?</a></li>
<li><a href="http://startupbitsnbobs.com/2014/04/04/move-fast-and-break-things/">Startup就是一窩老鼠</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-07T21:45:34+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/thoughts/'>thoughts</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
        <a href="/" class="prev">Prev</a>
    
    
        <a href="/blog/page/3/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Billy Ng

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'billynyh';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>